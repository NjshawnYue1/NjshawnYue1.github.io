<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"7.7.1","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="CodePig">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="CodePig">
<meta property="og:locale">
<meta property="article:author" content="CodePig">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false
  };
</script>

  <title>CodePig</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">CodePig</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/29/java8%E5%AE%9E%E6%88%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CodePig">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CodePig">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/29/java8%E5%AE%9E%E6%88%98/" class="post-title-link" itemprop="url">Untitled</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-10-29 10:45:53 / Modified: 11:42:09" itemprop="dateCreated datePublished" datetime="2020-10-29T10:45:53+08:00">2020-10-29</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>title: java8å®æˆ˜<br>comments: true<br>date: 2020-10-29 10:45:53<br>tags:<br>categories:<br>description: å­¦ä¹ mrbird.ccçš„åšå®¢ç¬”è®°ï¼Œåšä¸€äº›è®°å½•æ€»ç»“ç­‰</p>
<p><a target="_blank" rel="noopener" href="https://mrbird.cc/java8stream1.html">åŸæ–‡é“¾æ¥</a></p>
<h3 id="æµæ“ä½œ"><a href="#æµæ“ä½œ" class="headerlink" title="æµæ“ä½œ"></a>æµæ“ä½œ</h3><p>è¿™ç§æ‰€è°“çš„æµæ“ä½œï¼Œå®é™…ä¸­åªä½¿ç”¨è¿‡foreachï¼Œå…¶ä»–çš„ä¸€äº›è¿‡æ»¤æ“ä½œæ²¡æœ‰ä½¿ç”¨è¿‡ï¼Œçœ‹ä¸‹å¤§æ¦‚æ˜¯æ€ä¹ˆç”¨çš„ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; list = Arrays.asList(<span class="string">&quot;Java&quot;</span>, <span class="string">&quot;JavaScript&quot;</span>, <span class="string">&quot;python&quot;</span>, <span class="string">&quot;PHP&quot;</span>, <span class="string">&quot;C#&quot;</span>, <span class="string">&quot;Golang&quot;</span>, <span class="string">&quot;Swift&quot;</span>, <span class="string">&quot;C++&quot;</span>, <span class="string">&quot;Ruby&quot;</span>);</span><br></pre></td></tr></table></figure>

<ol>
<li>filter</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç”¨äºå¯¹é›†åˆè¿›è¡Œç­›é€‰ï¼Œè¿”å›æ‰€æœ‰æ»¡è¶³çš„å…ƒç´ </span></span><br><span class="line">list.stream()</span><br><span class="line">    .filter(s -&gt; s.contains(<span class="string">&quot;#&quot;</span>))</span><br><span class="line">    .forEach(System.out::println);</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>distinct</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¹ç»“æœè¿›è¡Œå»é‡æ“ä½œ</span></span><br><span class="line">List&lt;Integer&gt; numbers = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span>);</span><br><span class="line">numbers.stream()</span><br><span class="line">       .filter(i -&gt; i % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">       .distinct()</span><br><span class="line">       .forEach(System.out::println);</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>map</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//mapæ–¹æ³•æ¥æ”¶ä¸€ä¸ª[å‡½æ•°]ä½œä¸ºå‚æ•°ã€‚è¿™ä¸ªå‡½æ•°ä¼šè¢«åº”ç”¨åˆ°æ¯ä¸ªå…ƒç´ ä¸Šï¼Œå¹¶å°†å…¶æ˜ å°„æˆä¸€ä¸ªæ–°çš„å…ƒç´ ã€‚</span></span><br><span class="line">list.stream()</span><br><span class="line">    .map(String::length)</span><br><span class="line">    .forEach(System.out::println);</span><br><span class="line"></span><br><span class="line">list.stream()</span><br><span class="line">  <span class="comment">// è¿™é‡Œè¿”å›äº†ä¸€ä¸ªæµå¯¹è±¡ éœ€è¦å†æ•´åˆ æŠŠè¿”å›çš„æµåˆåˆ°æ“ä½œçš„æµä¸Š</span></span><br><span class="line">    .map(s -&gt; s.split(<span class="string">&quot;&quot;</span>))</span><br><span class="line">    .flatMap(Arrays::stream)</span><br><span class="line">    .distinct()</span><br><span class="line">    .forEach(s -&gt; System.out.print(s + <span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>anyMatch</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// anyMatchæ–¹æ³•ç”¨äºåˆ¤æ–­æµä¸­æ˜¯å¦æœ‰ç¬¦åˆåˆ¤æ–­æ¡ä»¶çš„å…ƒç´ </span></span><br><span class="line">list.stream()</span><br><span class="line">    .anyMatch(s -&gt; <span class="string">&quot;SQL&quot;</span>.equals(s)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<ol start="5">
<li>allMatch</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// allMatchæ–¹æ³•ç”¨äºåˆ¤æ–­æµä¸­æ˜¯å¦æ‰€æœ‰å…ƒç´ éƒ½æ»¡è¶³ç»™å®šçš„åˆ¤æ–­æ¡ä»¶</span></span><br><span class="line">list.stream()</span><br><span class="line">    .allMatch(s -&gt; s.length() &lt;= <span class="number">10</span>); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>è¿™ä¸¤ä¸ªæ„Ÿè§‰åº”è¯¥æŒºå¥½ç”¨çš„å¯æƒœåªèƒ½åˆ¤æ–­ä¸èƒ½ç­›é€‰æœ‰ç‚¹å¯æƒœã€‚</p>
<ol start="6">
<li>collect</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//collectæ–¹æ³•ç”¨äºæ”¶é›†æµä¸­çš„å…ƒç´ ï¼Œå¹¶æ”¾åˆ°ä¸åŒç±»å‹çš„ç»“æœä¸­ List,Map,Set</span></span><br><span class="line">List&lt;String&gt; filterList = list.stream()</span><br><span class="line">        .filter(s -&gt; s.startsWith(<span class="string">&quot;J&quot;</span>)).collect(Collectors.toList());</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="ä½¿ç”¨Optionalå–ä»£null"><a href="#ä½¿ç”¨Optionalå–ä»£null" class="headerlink" title="ä½¿ç”¨Optionalå–ä»£null"></a>ä½¿ç”¨Optionalå–ä»£null</h3><p>åœ¨å·¥ä½œä¸­ï¼Œç»å¸¸ä¼šæ‹…å¿ƒè‡ªå·±çš„ä»£ç ä»¥é—®é¢˜ï¼Œè™½ç„¶è¿˜æ²¡å‡ºå‘ç°ä½†è¿™ä¸æ˜¯ä¸€ä¸ªğŸ‘¨â€ğŸ’»â€åº”è¯¥åšçš„ã€‚å¦‚ä½•ä¼˜é›…çš„åˆ¤æ–­nullå‘¢ï¼Ÿ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> String <span class="title">getGirlFriendName</span><span class="params">(Department department)</span> </span>&#123;</span><br><span class="line">    Optional&lt;Department&gt; opt = Optional.ofNullable(department);</span><br><span class="line">    <span class="keyword">return</span> opt.map(Department::getEmployee)</span><br><span class="line">            .map(Employee::getGirlFriend)</span><br><span class="line">            .map(Girl::getName)</span><br><span class="line">            .orElseThrow(NoSuchElementException::<span class="keyword">new</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/28/java%E5%B9%B6%E5%8F%91%E5%9F%BA%E7%A1%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CodePig">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CodePig">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/28/java%E5%B9%B6%E5%8F%91%E5%9F%BA%E7%A1%80/" class="post-title-link" itemprop="url">javaå¹¶å‘åŸºç¡€</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-10-28 09:12:42 / Modified: 10:39:54" itemprop="dateCreated datePublished" datetime="2020-10-28T09:12:42+08:00">2020-10-28</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>javaå¤šçº¿ç¨‹åŸºç¡€ï¼Œä¸€äº›åŸºæœ¬æ¦‚å¿µç”¨æ³•</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/10/28/java%E5%B9%B6%E5%8F%91%E5%9F%BA%E7%A1%80/">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/17/spring-security%E5%9F%BA%E7%A1%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CodePig">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CodePig">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/17/spring-security%E5%9F%BA%E7%A1%80/" class="post-title-link" itemprop="url">spring securityåŸºç¡€</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-10-17 14:36:29" itemprop="dateCreated datePublished" datetime="2020-10-17T14:36:29+08:00">2020-10-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-27 12:04:46" itemprop="dateModified" datetime="2020-10-27T12:04:46+08:00">2020-10-27</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Spring-Security"><a href="#Spring-Security" class="headerlink" title="Spring-Security"></a>Spring-Security</h1><h2 id="ç®€å•ä½¿ç”¨"><a href="#ç®€å•ä½¿ç”¨" class="headerlink" title="ç®€å•ä½¿ç”¨"></a>ç®€å•ä½¿ç”¨</h2><p>åœ¨ä¸€ä¸ªæœ€ç®€å•çš„webçš„springbootçš„åº”ç”¨ä¸­ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®urlç›´æ¥è·å–åˆ°ç»“æœï¼Œå¦‚ç›´æ¥è®¿é—®<code><a target="_blank" rel="noopener" href="http://localhost:8080/hello">http://localhost:8080/hello</a></code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/hello&quot;)</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="function">String <span class="title">home</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello ,spring security!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<p>ä½†å½“æˆ‘ä»¬å¼•å…¥spring-securityä¾èµ–æ—¶ï¼Œä¼šå¯¹è¿™ä¸ªè¯·æ±‚åšä¸€ä¸ªä¿æŠ¤ï¼Œåœ¨ä»€ä¹ˆéƒ½ä¸éœ€è¦é…ç½®çš„æƒ…å†µä¸‹ï¼Œç”¨æˆ·å°†ä¸èƒ½ç›´æ¥å¯¹è¿™ä¸ªurlè¿›è¡Œè®¿é—®è€Œéœ€è¦è®¤è¯ä»¥åŠæˆæƒã€‚è¿™ä¸ªä¾èµ–çš„è‡ªåŠ¨é…ç½®æ–‡ä»¶é»˜è®¤ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªç™»é™†ç”¨æˆ·åä¸ºuserå¯†ç ä¸ºéšæœºç”Ÿæˆçš„ä¸€ä¸ªè´¦å·ã€‚åœ¨springboot 2.xç‰ˆæœ¬ä¸­ï¼Œä¼šç›´æ¥è·³è½¬è‡³ä¸€ä¸ªç™»é™†é¡µé¢ï¼Œè¿™ä¸ªé¡µé¢ç”±ä¾èµ–æä¾›ã€‚</p>
<blockquote>
<p>é›†æˆç›¸å…³ä¾èµ–åï¼Œè¿›è¡Œç®€å•çš„é…ç½®ä¸éœ€è¦ç¼–å†™ä»»ä½•é…ç½®æ–‡ä»¶å°±å¯ä»¥ä½¿ç”¨ã€‚</p>
</blockquote>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="comment"># Spring Security é…ç½®é¡¹ï¼Œå¯¹åº” SecurityProperties é…ç½®ç±»</span></span><br><span class="line">  <span class="attr">security:</span></span><br><span class="line">    <span class="comment"># é…ç½®é»˜è®¤çš„ InMemoryUserDetailsManager å†…å­˜çº§åˆ« çš„ç”¨æˆ·è´¦å·ä¸å¯†ç ã€‚</span></span><br><span class="line">    <span class="attr">user:</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">user</span> <span class="comment"># è´¦å·</span></span><br><span class="line">      <span class="attr">password:</span> <span class="string">user</span> <span class="comment"># å¯†ç </span></span><br><span class="line">      <span class="attr">roles:</span> <span class="string">ADMIN</span> <span class="comment"># æ‹¥æœ‰è§’è‰²</span></span><br></pre></td></tr></table></figure>

<h3 id="è‡ªå®šä¹‰é…ç½®"><a href="#è‡ªå®šä¹‰é…ç½®" class="headerlink" title="è‡ªå®šä¹‰é…ç½®"></a>è‡ªå®šä¹‰é…ç½®</h3><p>ç»§æ‰¿æŠ½è±¡ç±»ä¹‹åå°±å¯ä»¥å®ç°è‡ªå®šä¹‰åœ¨webåœºæ™¯ä¸‹çš„é…ç½®ï¼Œæ³¨æ„æ–¹æ³•é‡è½½ä¸­çš„å‚æ•°</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// SecurityConfig.java</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SecurityConfig</span> <span class="keyword">extends</span> <span class="title">WebSecurityConfigurerAdapter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…·ä½“é‡å†™çš„æ–¹æ³•ä¸º</p>
<ol>
<li>è®¤è¯ç®¡ç†</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(AuthenticationManagerBuilder auth)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    auth.</span><br><span class="line">            <span class="comment">// &lt;X&gt; ä½¿ç”¨å†…å­˜ä¸­çš„ InMemoryUserDetailsManager</span></span><br><span class="line">            inMemoryAuthentication()</span><br><span class="line">            <span class="comment">// &lt;Y&gt; ä¸ä½¿ç”¨ PasswordEncoder å¯†ç ç¼–ç å™¨</span></span><br><span class="line">            .passwordEncoder(NoOpPasswordEncoder.getInstance())</span><br><span class="line">            <span class="comment">// &lt;Z&gt; é…ç½® admin ç”¨æˆ·  å¯ä»¥ç»™ä¸€ä¸ªç”¨æˆ·é…ç½®å¤šä¸ªè§’è‰²</span></span><br><span class="line">            .withUser(<span class="string">&quot;admin&quot;</span>).password(<span class="string">&quot;admin&quot;</span>).roles(<span class="string">&quot;ADMIN&quot;</span>)</span><br><span class="line">            <span class="comment">// &lt;Z&gt; é…ç½® normal ç”¨æˆ·</span></span><br><span class="line">            .and().withUser(<span class="string">&quot;normal&quot;</span>).password(<span class="string">&quot;normal&quot;</span>).roles(<span class="string">&quot;NORMAL&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç”¨æˆ·æ·»åŠ å®Œæˆåéœ€è¦å¯¹è¿›è¡Œè®¿é—®çš„urlè¿›è¡Œé…ç½®ã€‚</p>
<ol start="2">
<li>httpç®¡ç†</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    http</span><br><span class="line">            <span class="comment">// &lt;X&gt; é…ç½®è¯·æ±‚åœ°å€çš„æƒé™ çœ‹æ–¹æ³•å è®¤è¯çš„è¯·æ±‚çš„åˆ—è¡¨</span></span><br><span class="line">            .authorizeRequests()</span><br><span class="line">      			<span class="comment">// æ ¹æ®controllerä¸­çš„mappingè¿›è¡Œé…ç½®</span></span><br><span class="line">                .antMatchers(<span class="string">&quot;/test/echo&quot;</span>).permitAll() <span class="comment">// æ‰€æœ‰ç”¨æˆ·å¯è®¿é—®</span></span><br><span class="line">      			<span class="comment">// å¯¹è§’è‰²çš„ä¸¤ç§é…ç½®æ–¹å¼</span></span><br><span class="line">                .antMatchers(<span class="string">&quot;/test/admin&quot;</span>).hasRole(<span class="string">&quot;ADMIN&quot;</span>) <span class="comment">// éœ€è¦ ADMIN è§’è‰²</span></span><br><span class="line">                .antMatchers(<span class="string">&quot;/test/normal&quot;</span>).access(<span class="string">&quot;hasRole(&#x27;ROLE_NORMAL&#x27;)&quot;</span>) <span class="comment">// éœ€è¦ NORMAL è§’è‰²ã€‚</span></span><br><span class="line">                <span class="comment">// ä»»ä½•è¯·æ±‚ï¼Œè®¿é—®çš„ç”¨æˆ·éƒ½éœ€è¦ç»è¿‡è®¤è¯</span></span><br><span class="line">                .anyRequest().authenticated()</span><br><span class="line">            .and()</span><br><span class="line">            <span class="comment">// &lt;Y&gt; è®¾ç½® Form è¡¨å•ç™»å½•</span></span><br><span class="line">            .formLogin()</span><br><span class="line"><span class="comment">//                    .loginPage(&quot;/login&quot;) // ç™»å½• URL åœ°å€</span></span><br><span class="line">                .permitAll() <span class="comment">// æ‰€æœ‰ç”¨æˆ·å¯è®¿é—®</span></span><br><span class="line">            .and()</span><br><span class="line">            <span class="comment">// é…ç½®é€€å‡ºç›¸å…³</span></span><br><span class="line">            .logout()</span><br><span class="line"><span class="comment">//                    .logoutUrl(&quot;/logout&quot;) // é€€å‡º URL åœ°å€</span></span><br><span class="line">                .permitAll(); <span class="comment">// æ‰€æœ‰ç”¨æˆ·å¯è®¿é—®</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨è®¿é—®ä¸åŒçš„urlæ—¶ä¼šä¾æ®é…ç½®éœ€è¦ä¸åŒçš„ç”¨æˆ·å’Œè§’è‰²</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/test&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/echo&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">demo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;ç¤ºä¾‹è¿”å›&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/home&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">home</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;æˆ‘æ˜¯é¦–é¡µ&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/admin&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">admin</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;æˆ‘æ˜¯ç®¡ç†å‘˜&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/normal&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">normal</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;æˆ‘æ˜¯æ™®é€šç”¨æˆ·&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="spring-securityæ ¸å¿ƒç»„ä»¶"><a href="#spring-securityæ ¸å¿ƒç»„ä»¶" class="headerlink" title="spring-securityæ ¸å¿ƒç»„ä»¶"></a>spring-securityæ ¸å¿ƒç»„ä»¶</h2><h3 id="SecurityContext"><a href="#SecurityContext" class="headerlink" title="SecurityContext"></a>SecurityContext</h3><p>ç”¨æˆ·é€šè¿‡å®‰å…¨éªŒè¯åï¼Œç›¸å…³çš„éªŒè¯ä¿¡æ¯ä¼šå­˜å‚¨åœ¨è¿™ä¸ªå¯¹è±¡ä¸­ï¼Œé€šè¿‡æ­¤æ–¹æ³•å¯ä»¥æ‹¿åˆ°è®¤è¯å¯¹è±¡ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Authentication <span class="title">getAuthentication</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>

<h3 id="SecurityContextHolder"><a href="#SecurityContextHolder" class="headerlink" title="SecurityContextHolder"></a>SecurityContextHolder</h3><p>åœ¨å…¸å‹çš„webåº”ç”¨ç¨‹åºä¸­ï¼Œç”¨æˆ·ç™»å½•ä¸€æ¬¡ï¼Œç„¶åç”±å…¶ä¼šè¯IDæ ‡è¯†ã€‚æœåŠ¡å™¨ç¼“å­˜æŒç»­æ—¶é—´ä¼šè¯çš„ä¸»ä½“ä¿¡æ¯ã€‚åœ¨Spring Securityä¸­ï¼Œåœ¨è¯·æ±‚ä¹‹é—´å­˜å‚¨<code>SecurityContext</code>çš„è´£ä»»è½åœ¨<code>SecurityContextPersistenceFilter</code>ä¸Šï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥ä¸Šä¸‹æ–‡å°†ä¸Šä¸‹æ–‡å­˜å‚¨ä¸ºHTTPè¯·æ±‚ä¹‹é—´çš„<code>HttpSession</code>å±æ€§ã€‚å®ƒä¼šä¸ºæ¯ä¸ªè¯·æ±‚æ¢å¤ä¸Šä¸‹æ–‡<code>SecurityContextHolder</code>ï¼Œå¹¶ä¸”æœ€é‡è¦çš„æ˜¯ï¼Œåœ¨è¯·æ±‚å®Œæˆæ—¶æ¸…é™¤<code>SecurityContextHolder</code>ã€‚SecurityContextHolderæ˜¯ä¸€ä¸ªç±»ï¼Œä»–çš„åŠŸèƒ½æ–¹æ³•éƒ½æ˜¯é™æ€çš„ï¼ˆstaticï¼‰ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  SecurityContextHolder.getContext().setAuthentication(token);</span></span><br></pre></td></tr></table></figure>

<h3 id="Authentication"><a href="#Authentication" class="headerlink" title="Authentication"></a>Authentication</h3><p>authentication ç›´è¯‘è¿‡æ¥æ˜¯â€œè®¤è¯â€çš„æ„æ€ï¼Œåœ¨Spring Security ä¸­Authenticationç”¨æ¥è¡¨ç¤º<strong>å½“å‰ç”¨æˆ·</strong>æ˜¯è°ï¼Œä¸€èˆ¬æ¥è®²ä½ å¯ä»¥ç†è§£ä¸ºauthenticationå°±æ˜¯ä¸€ç»„<strong>ç”¨æˆ·åå¯†ç ä¿¡æ¯</strong>ã€‚Authenticationä¹Ÿæ˜¯ä¸€ä¸ªæ¥å£ï¼Œå…¶å®šä¹‰å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Copypublic <span class="class"><span class="keyword">interface</span> <span class="title">Authentication</span> <span class="keyword">extends</span> <span class="title">Principal</span>, <span class="title">Serializable</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">	Collection&lt;? extends GrantedAuthority&gt; getAuthorities();</span><br><span class="line">	<span class="function">Object <span class="title">getCredentials</span><span class="params">()</span></span>;</span><br><span class="line">	<span class="function">Object <span class="title">getDetails</span><span class="params">()</span></span>;</span><br><span class="line">	<span class="function">Object <span class="title">getPrincipal</span><span class="params">()</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">boolean</span> <span class="title">isAuthenticated</span><span class="params">()</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">setAuthenticated</span><span class="params">(<span class="keyword">boolean</span> isAuthenticated)</span> <span class="keyword">throws</span> IllegalArgumentException</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¥å£æœ‰4ä¸ªgetæ–¹æ³•ï¼Œåˆ†åˆ«è·å–</p>
<ul>
<li><code>Authorities</code>, å¡«å……çš„æ˜¯ç”¨æˆ·<strong>è§’è‰²</strong>ä¿¡æ¯ã€‚</li>
<li><code>Credentials</code>ï¼Œç›´è¯‘ï¼Œè¯ä¹¦ã€‚å¡«å……çš„æ˜¯<strong>å¯†ç </strong>ã€‚</li>
<li><code>Details</code> ï¼Œç”¨æˆ·ä¿¡æ¯ã€‚</li>
<li>,<code>Principal</code> ç›´è¯‘ï¼Œå½¢å®¹è¯æ˜¯â€œä¸»è¦çš„ï¼Œæœ€é‡è¦çš„â€ï¼Œåè¯æ˜¯â€œè´Ÿè´£äººï¼Œèµ„æœ¬ï¼Œæœ¬é‡‘â€ã€‚æ„Ÿè§‰å¾ˆåˆ«æ‰­ï¼Œæ‰€ä»¥ï¼Œè¿˜æ˜¯ä¸ç¿»è¯‘äº†ï¼Œç›´æ¥ç”¨åŸè¯principalæ¥è¡¨ç¤ºè¿™ä¸ªæ¦‚å¿µï¼Œå…¶å¡«å……çš„æ˜¯<strong>ç”¨æˆ·å</strong>ã€‚</li>
</ul>
<p>å› æ­¤å¯ä»¥æ¨æ–­å…¶å®ç°ç±»æœ‰è¿™4ä¸ªå±æ€§ã€‚è¿™å‡ ä¸ªæ–¹æ³•ä½œç”¨å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>getAuthorities</code>: è·å–ç”¨æˆ·æƒé™ï¼Œä¸€èˆ¬æƒ…å†µä¸‹è·å–åˆ°çš„æ˜¯ç”¨æˆ·çš„è§’è‰²ä¿¡æ¯ã€‚</li>
<li><code>getCredentials</code>: è·å–è¯æ˜ç”¨æˆ·è®¤è¯çš„ä¿¡æ¯ï¼Œé€šå¸¸æƒ…å†µä¸‹è·å–åˆ°çš„æ˜¯å¯†ç ç­‰ä¿¡æ¯ã€‚</li>
<li><code>getDetails</code>: è·å–ç”¨æˆ·çš„é¢å¤–ä¿¡æ¯ï¼Œï¼ˆè¿™éƒ¨åˆ†ä¿¡æ¯å¯ä»¥æ˜¯æˆ‘ä»¬çš„ç”¨æˆ·è¡¨ä¸­çš„ä¿¡æ¯ï¼‰</li>
<li><code>getPrincipal</code>: è·å–ç”¨æˆ·èº«ä»½ä¿¡æ¯ï¼Œåœ¨æœªè®¤è¯çš„æƒ…å†µä¸‹è·å–åˆ°çš„æ˜¯ç”¨æˆ·åï¼Œåœ¨å·²è®¤è¯çš„æƒ…å†µä¸‹è·å–åˆ°çš„æ˜¯ UserDetails (UserDetailsä¹Ÿæ˜¯ä¸€ä¸ªæ¥å£ï¼Œé‡Œè¾¹çš„æ–¹æ³•æœ‰getUsername,getPasswordç­‰)ã€‚</li>
<li><code>isAuthenticated</code>: è·å–å½“å‰ Authentication æ˜¯å¦å·²è®¤è¯ã€‚</li>
<li><code>setAuthenticated</code>: è®¾ç½®å½“å‰ Authentication æ˜¯å¦å·²è®¤è¯ï¼ˆtrue or falseï¼‰ã€‚</li>
</ul>
<h3 id="UserDetails"><a href="#UserDetails" class="headerlink" title="UserDetails"></a>UserDetails</h3><p>UserDetailsï¼Œçœ‹å‘½çŸ¥ä¹‰ï¼Œæ˜¯ç”¨æˆ·ä¿¡æ¯çš„æ„æ€ã€‚å…¶å­˜å‚¨çš„å°±æ˜¯ç”¨æˆ·ä¿¡æ¯ï¼Œå…¶å®šä¹‰å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Copypublic <span class="class"><span class="keyword">interface</span> <span class="title">UserDetails</span> <span class="keyword">extends</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	Collection&lt;? extends GrantedAuthority&gt; getAuthorities();</span><br><span class="line">	<span class="function">String <span class="title">getPassword</span><span class="params">()</span></span>;</span><br><span class="line">	<span class="function">String <span class="title">getUsername</span><span class="params">()</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">boolean</span> <span class="title">isAccountNonExpired</span><span class="params">()</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">boolean</span> <span class="title">isAccountNonLocked</span><span class="params">()</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">boolean</span> <span class="title">isCredentialsNonExpired</span><span class="params">()</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">boolean</span> <span class="title">isEnabled</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ–¹æ³•å«ä¹‰å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>getAuthorites</code>ï¼šè·å–ç”¨æˆ·æƒé™ï¼Œæœ¬è´¨ä¸Šæ˜¯ç”¨æˆ·çš„<strong>è§’è‰²ä¿¡æ¯</strong>ã€‚</li>
<li><code>getPassword</code>: è·å–å¯†ç ã€‚</li>
<li><code>getUserName</code>: è·å–ç”¨æˆ·åã€‚</li>
<li><code>isAccountNonExpired</code>: è´¦æˆ·æ˜¯å¦è¿‡æœŸã€‚</li>
<li><code>isAccountNonLocked</code>: è´¦æˆ·æ˜¯å¦è¢«é”å®šã€‚</li>
<li><code>isCredentialsNonExpired</code>: å¯†ç æ˜¯å¦è¿‡æœŸã€‚</li>
<li><code>isEnabled</code>: è´¦æˆ·æ˜¯å¦å¯ç”¨ã€‚</li>
</ul>
<h3 id="UserDetailsService"><a href="#UserDetailsService" class="headerlink" title="UserDetailsService"></a>UserDetailsService</h3><p>æåˆ°äº†<code>UserDetails</code>å°±å¿…é¡»å¾—æåˆ°<code>UserDetailsService</code>, UserDetailsServiceä¹Ÿæ˜¯ä¸€ä¸ªæ¥å£ï¼Œä¸”åªæœ‰ä¸€ä¸ªæ–¹æ³•<code>loadUserByUsername</code>ï¼Œä»–å¯ä»¥ç”¨æ¥è·å–UserDetailsã€‚</p>
<p>é€šå¸¸åœ¨spring securityåº”ç”¨ä¸­ï¼Œæˆ‘ä»¬ä¼šè‡ªå®šä¹‰ä¸€ä¸ªCustomUserDetailsServiceæ¥å®ç°UserDetailsServiceæ¥å£ï¼Œå¹¶å®ç°å…¶<code>public UserDetails loadUserByUsername(final String login);</code>æ–¹æ³•ã€‚æˆ‘ä»¬åœ¨å®ç°<code>loadUserByUsername</code>æ–¹æ³•çš„æ—¶å€™ï¼Œå°±å¯ä»¥é€šè¿‡æŸ¥è¯¢æ•°æ®åº“ï¼ˆæˆ–è€…æ˜¯ç¼“å­˜ã€æˆ–è€…æ˜¯å…¶ä»–çš„å­˜å‚¨å½¢å¼ï¼‰æ¥è·å–ç”¨æˆ·ä¿¡æ¯ï¼Œç„¶åç»„è£…æˆä¸€ä¸ª<code>UserDetails</code>,(é€šå¸¸æ˜¯ä¸€ä¸ª<code>org.springframework.security.core.userdetails.User</code>ï¼Œå®ƒç»§æ‰¿è‡ªUserDetails) å¹¶è¿”å›ã€‚</p>
<p>åœ¨å®ç°<code>loadUserByUsername</code>æ–¹æ³•çš„æ—¶å€™ï¼Œå¦‚æœæˆ‘ä»¬é€šè¿‡æŸ¥åº“æ²¡æœ‰æŸ¥åˆ°ç›¸å…³è®°å½•ï¼Œéœ€è¦æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸æ¥å‘Šè¯‰spring securityæ¥â€œå–„åâ€ã€‚è¿™ä¸ªå¼‚å¸¸æ˜¯<code>org.springframework.security.core.userdetails.UsernameNotFoundException</code>ã€‚</p>
<h3 id="AuthenticationManager"><a href="#AuthenticationManager" class="headerlink" title="AuthenticationManager"></a>AuthenticationManager</h3><p>AuthenticationManager æ˜¯ä¸€ä¸ªæ¥å£ï¼Œå®ƒåªæœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œæ¥æ”¶å‚æ•°ä¸º<code>Authentication</code>ï¼Œå…¶å®šä¹‰å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Copypublic <span class="class"><span class="keyword">interface</span> <span class="title">AuthenticationManager</span> </span>&#123;</span><br><span class="line">    <span class="function">Authentication <span class="title">authenticate</span><span class="params">(Authentication authentication)</span></span></span><br><span class="line"><span class="function">			<span class="keyword">throws</span> AuthenticationException</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>AuthenticationManager çš„ä½œç”¨å°±æ˜¯æ ¡éªŒ<code>Authentication</code>,å¦‚æœéªŒè¯å¤±è´¥ä¼šæŠ›å‡º<code>AuthenticationException</code>å¼‚å¸¸ã€‚<code>AuthenticationException</code>æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå› æ­¤ä»£ç é€»è¾‘å¹¶ä¸èƒ½å®ä¾‹åŒ–ä¸€ä¸ªAuthenticationExceptionå¼‚å¸¸å¹¶æŠ›å‡ºï¼Œå®é™…ä¸ŠæŠ›å‡ºçš„å¼‚å¸¸é€šå¸¸æ˜¯å…¶å®ç°ç±»ï¼Œå¦‚<code>DisabledException</code>,<code>LockedException</code>,<code>BadCredentialsException</code>ç­‰ã€‚<code>BadCredentialsException</code>å¯èƒ½ä¼šæ¯”è¾ƒå¸¸è§ï¼Œå³å¯†ç é”™è¯¯çš„æ—¶å€™ã€‚</p>
<p>ç»“åˆæ•°æ®åº“çš„æ­¥éª¤ï¼Œé™¤äº†åŸºç¡€çš„å¼•å…¥ä¾èµ–ä¹‹å¤–ï¼Œä¸€èˆ¬åŒ…å«çš„è¡¨ä¸º ç”¨æˆ·è¡¨ è§’è‰²è¡¨ ç”¨æˆ·è§’è‰²å…³è”è¡¨</p>
<p>éœ€è¦å®šä¹‰ä¸€ä¸ªserviceå®ç°UserDetailsServiceæ¥å£ åœ¨è¿™ä¸ªç±»ä¸­åªéœ€è¦åˆ©ç”¨è‡ªå·±çš„mapperå»å®ç°æ¥å£ä¸­çš„æ–¹æ³•loadUserByUsernameå³å¯ </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component(&quot;customUserDetailsService&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomUserDetailsService</span> <span class="keyword">implements</span> <span class="title">UserDetailsService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Autowired</span></span><br><span class="line">	UserRepository userRepository;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> UserDetails <span class="title">loadUserByUsername</span><span class="params">(String login)</span> <span class="keyword">throws</span> UsernameNotFoundException </span>&#123;</span><br><span class="line">         <span class="comment">// 1. æŸ¥è¯¢ç”¨æˆ· å‚æ•°å®é™…ä¸Šæ˜¯ç”¨æˆ·å</span></span><br><span class="line">		User userFromDatabase = userRepository.findOneByLogin(login);</span><br><span class="line">		<span class="keyword">if</span> (userFromDatabase == <span class="keyword">null</span>) &#123;</span><br><span class="line">			<span class="comment">//log.warn(&quot;User: &#123;&#125; not found&quot;, login);</span></span><br><span class="line">		 <span class="keyword">throw</span> <span class="keyword">new</span> UsernameNotFoundException(<span class="string">&quot;User &quot;</span> + login + <span class="string">&quot; was not found in db&quot;</span>);</span><br><span class="line">            <span class="comment">//è¿™é‡Œæ‰¾ä¸åˆ°å¿…é¡»æŠ›å¼‚å¸¸</span></span><br><span class="line">		&#125;</span><br><span class="line">	    <span class="comment">// 2. è®¾ç½®è§’è‰² </span></span><br><span class="line">      <span class="comment">// Collection&lt;? extends GrantedAuthority&gt; getAuthorities(); æ˜¯userDetailsä¸­çš„å±æ€§ ç”¨æ¥å­˜æ”¾è§’è‰²</span></span><br><span class="line">		Collection&lt;GrantedAuthority&gt; grantedAuthorities = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">      <span class="comment">// GrantedAuthorityåˆ›å»ºæ­¤å¯¹è±¡å¹¶å°†åˆšåˆšæŸ¥è¯¢å‡ºçš„ç»“æœä¸­çš„è§’è‰²ä¿¡æ¯æ”¾è¿›å»</span></span><br><span class="line">		GrantedAuthority grantedAuthority = <span class="keyword">new</span> SimpleGrantedAuthority(userFromDatabase.getRole());</span><br><span class="line">		grantedAuthorities.add(grantedAuthority);</span><br><span class="line">      <span class="comment">// è¿”å›ç”¨æˆ·åå¯†ç å’Œè§’è‰²</span></span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> User(login,userFromDatabase.getPassword(), grantedAuthorities);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å›åˆ°é…ç½®ç±»ä¸­ï¼Œå¯¹è®¤è¯é…ç½®æ–¹æ³•åšä¿®æ”¹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(AuthenticationManagerBuilder auth)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">   <span class="comment">// ä½¿ç”¨ä¸Šé¢åˆ›å»ºçš„userDetailsService ä½¿ç”¨äº†è¿™ä¸ªå¯†ç å™¨ä¹‹åè¿›è¡Œæ ¡éªŒæ—¶ä¼šè¿›è¡Œè®¡ç®—åŒ¹é…</span></span><br><span class="line">	auth.userDetailsService(customUserDetailsService)</span><br><span class="line">			.passwordEncoder(passwordEncoder());</span><br><span class="line">	<span class="comment">/*auth</span></span><br><span class="line"><span class="comment">		.inMemoryAuthentication()</span></span><br><span class="line"><span class="comment">		.withUser(&quot;admin1&quot;)</span></span><br><span class="line"><span class="comment">			.password(&quot;admin1&quot;)</span></span><br><span class="line"><span class="comment">			.roles(&quot;ADMIN&quot;, &quot;USER&quot;)</span></span><br><span class="line"><span class="comment">			.and()</span></span><br><span class="line"><span class="comment">		.withUser(&quot;user1&quot;).password(&quot;user1&quot;)</span></span><br><span class="line"><span class="comment">			.roles(&quot;USER&quot;);*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> PasswordEncoder <span class="title">passwordEncoder</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">new</span> BCryptPasswordEncoder();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>






      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/09/21/SpringCloud%E5%9F%BA%E7%A1%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CodePig">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CodePig">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/21/SpringCloud%E5%9F%BA%E7%A1%80/" class="post-title-link" itemprop="url">SpringCloudåŸºç¡€</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-09-21 20:55:27" itemprop="dateCreated datePublished" datetime="2020-09-21T20:55:27+08:00">2020-09-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-27 12:04:29" itemprop="dateModified" datetime="2020-10-27T12:04:29+08:00">2020-10-27</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/09/19/springboot%E5%85%A5%E9%97%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CodePig">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CodePig">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/19/springboot%E5%85%A5%E9%97%A8/" class="post-title-link" itemprop="url">springbootå…¥é—¨</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-09-19 15:30:03" itemprop="dateCreated datePublished" datetime="2020-09-19T15:30:03+08:00">2020-09-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-27 12:04:39" itemprop="dateModified" datetime="2020-10-27T12:04:39+08:00">2020-10-27</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="SpringBootåŸºç¡€"><a href="#SpringBootåŸºç¡€" class="headerlink" title="SpringBootåŸºç¡€"></a>SpringBootåŸºç¡€</h2><h3 id="1-ç®€ä»‹"><a href="#1-ç®€ä»‹" class="headerlink" title="1.ç®€ä»‹"></a>1.ç®€ä»‹</h3><blockquote>
<p>ç®€åŒ–springå¼€å‘çš„æ¡†æ¶</p>
<p>å¯¹æ•´ä¸ªspringæŠ€æœ¯æ ˆçš„æ•´åˆ</p>
<p>æ˜¯j2eeçš„ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆ</p>
</blockquote>
<h3 id="2-å¾®æœåŠ¡"><a href="#2-å¾®æœåŠ¡" class="headerlink" title="2.å¾®æœåŠ¡"></a>2.å¾®æœåŠ¡</h3><blockquote>
<p>ä¸€ä¸ªåº”ç”¨åº”è¯¥æ˜¯ä¸€ç»„å°å‹æœåŠ¡,ä»–ä»¬ä¹‹é—´å¯ä»¥é€šè¿‡httpçš„æ–¹å¼è¿›è¡Œæ²Ÿé€š,</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/09/19/springboot%E5%85%A5%E9%97%A8/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/08/24/redis%E5%88%9D%E6%8E%A2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CodePig">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CodePig">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/24/redis%E5%88%9D%E6%8E%A2/" class="post-title-link" itemprop="url">redisåˆæ¢</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-08-24 22:35:25" itemprop="dateCreated datePublished" datetime="2020-08-24T22:35:25+08:00">2020-08-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-19 19:14:35" itemprop="dateModified" datetime="2020-09-19T19:14:35+08:00">2020-09-19</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>æ–‡ä¸­æ‰€å†™time value keyé€šå¸¸å¯¹åº”ä¸ºå‘½ä»¤çš„å‚æ•°</p>
</blockquote>
<p>##Redis</p>
<blockquote>
<p>redisæ˜¯å•çº¿ç¨‹çš„ åŸºäºå†…å­˜æ“ä½œçš„ cpuä¸æ˜¯æ€§èƒ½ç“¶é¢ˆ,æ˜¯å•çº¿ç¨‹æ“ä½œçš„ï¼Œä¸éœ€è¦åˆ‡æ¢cpuä¸Šä¸‹æ–‡</p>
</blockquote>
<h3 id="ä¸€äº›åŸºç¡€å‘½ä»¤"><a href="#ä¸€äº›åŸºç¡€å‘½ä»¤" class="headerlink" title="ä¸€äº›åŸºç¡€å‘½ä»¤"></a>ä¸€äº›åŸºç¡€å‘½ä»¤</h3><ul>
<li><p>keys * æŸ¥è¯¢å½“å‰æ•°æ®åº“ä¸­çš„æ‰€æœ‰é”® </p>
</li>
<li><p>dbsize æŸ¥è¯¢å½“å‰åº“çš„å¤§å° æœ‰å‡ ä¸ªé”®å°±ä¼šè¿”å›å‡ </p>
</li>
<li><p>flushdb flushall æ¸…ç©ºå½“å‰æ•°æ®åº“ï¼Œæ¸…ç©ºæ‰€æœ‰æ•°æ®</p>
</li>
<li><p>select db  åˆ‡æ¢æ•°æ®åº“</p>
</li>
<li><p>set key value è®¾ç½®å€¼</p>
</li>
<li><p>get key è·å–å€¼</p>
</li>
<li><p>exists key æ˜¯å¦å­˜åœ¨è¿™ä¸ªé”® è¿”å›1æˆ–0</p>
</li>
<li><p><em>expire key 10(s)</em> è®¾ç½®è¿‡æœŸæ—¶é—´</p>
</li>
<li><p>ttl key æŸ¥çœ‹å½“å‰é”®çš„å‰©ä½™æ—¶é—´ </p>
</li>
<li><p>type key æŸ¥çœ‹å½“å‰é”®çš„ç±»å‹</p>
</li>
</ul>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/08/24/redis%E5%88%9D%E6%8E%A2/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/03/24/js%E5%9F%BA%E7%A1%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CodePig">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CodePig">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/24/js%E5%9F%BA%E7%A1%80/" class="post-title-link" itemprop="url">jsåŸºç¡€</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-24 17:14:56" itemprop="dateCreated datePublished" datetime="2020-03-24T17:14:56+08:00">2020-03-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-04-29 11:49:27" itemprop="dateModified" datetime="2020-04-29T11:49:27+08:00">2020-04-29</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>â€‹        js ååå¤å¤çœ‹äº†å¾ˆå¤šéï¼ŒåŸºç¡€çš„éƒ¨åˆ†ä»ä¸Šè¯¾åˆ°çœ‹èµ„æ–™ï¼Œå¸Œæœ›åé¢å¯ä»¥ç”¨å¾—ä¸Šã€‚å¯¹äºä¸€äº›åŸºæœ¬æ¦‚å¿µä¸å†å†™äº†ï¼Œå£°æ˜æ»¡å˜é‡ï¼Œèµ‹å€¼ï¼Œæ•°æ®ç±»å‹ï¼ŒåŸºæœ¬çš„ç¨‹åºç»“æ„ç­‰ç­‰ã€‚</p>
<h2 id="TDZ"><a href="#TDZ" class="headerlink" title="TDZ"></a>TDZ</h2><p>æš‚æ—¶æ€§æ­»åŒºï¼Œçœ‹å†…å®¹åº”è¯¥æ˜¯åœ¨æœ‰letå’Œconstä¹‹åæ‰æœ‰çš„æ¦‚å¿µï¼Œå³ä¸èƒ½å…ˆä½¿ç”¨æœªå£°æ˜çš„å˜é‡ã€‚</p>
<h2 id="å—ä½œç”¨åŸŸ"><a href="#å—ä½œç”¨åŸŸ" class="headerlink" title="å—ä½œç”¨åŸŸ"></a>å—ä½œç”¨åŸŸ</h2><p>ä½œç”¨åŸŸè¿™ä¸ªæ¦‚å¿µåœ¨å…¶ä»–è¯­è¨€é‡Œé¢ä¹Ÿæœ‰ï¼Œåœ¨jsä¸­æ— è®ºè¢«ä»€ä¹ˆå…³é”®å­—å£°æ˜çš„å…¨å±€ä½œç”¨åŸŸå˜é‡éƒ½å¯ä»¥åœ¨å‡½æ•°ä¸­è¿›è¡Œè®¿é—®ã€‚è€Œåœ¨å‡½æ•°ä¸­å£°æ˜çš„å˜é‡åªèƒ½åœ¨å‡½æ•°ä¸­æˆ–å‡½æ•°çš„å­å‡½æ•°ä¸­ä½¿ç”¨ï¼Œå¦‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hd</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> web = <span class="string">&quot;web&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(web);</span><br><span class="line">  &#125;</span><br><span class="line">  show(); <span class="comment">//å­å‡½æ•°ç»“æœ: web</span></span><br><span class="line">  <span class="built_in">console</span>.log(web); <span class="comment">//å‡½æ•°ç»“æœ: web</span></span><br><span class="line">&#125;</span><br><span class="line">hd();<span class="comment">// å¯ä»¥è®¿é—®</span></span><br><span class="line"><span class="built_in">console</span>.log(web); <span class="comment">//å…¨å±€è®¿é—®: hd is not defined</span></span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆå¦‚æœå‡½æ•°å†…éƒ¨å’Œå¤–éƒ¨åŒæ—¶å£°æ˜äº†åŒåå˜é‡ï¼Œåœ¨å‡½æ•°å†…è®¿é—®æ—¶å°±ä¼šä½¿ç”¨å‡½æ•°ä¸­å£°æ˜çš„å˜é‡ï¼Œè€Œå‡½æ•°å¤–è®¿é—®ä½¿ç”¨çš„æ˜¯å‡½æ•°å¤–å£°æ˜çš„å˜é‡ã€‚ä¸¤ä¸ªä¸ä¼šäº’ç›¸è®¿é—®ã€‚ä½¿ç”¨varå£°æ˜çš„å˜é‡å¾ˆå®¹æ˜“é€ æˆå˜é‡çš„æ±¡æŸ“ã€‚</p>
<p>ä¸Šè¿°è¯´äº†å¾ˆå¤šå¯ä»¥ç²—ç•¥çš„ç†è§£ä¸ºå°½é‡ä½¿ç”¨letå®šä¹‰å˜é‡ã€‚</p>
<p>åœ¨ä½¿ç”¨æ¨¡æ¿è·å–å€¼çš„æ—¶å€™è¦æ³¨æ„ä½¿ç”¨çš„ç¬¦å·æ˜¯1æ—è¾¹çš„ç‚¹``è€Œä¸æ˜¯å¼•å·ã€‚</p>
<h2 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h2><p>æ•°ç»„çš„æ–¹æ³•æœ‰å¾ˆå¤šï¼Œå› ä¸ºæ˜¯å¼±ç±»å‹çš„å…³ç³»å¯ä»¥åœ¨ä¸€ä¸ªæ•°ç»„é‡Œé¢å­˜æ”¾å¤šä¸ªç±»å‹çš„å€¼ã€‚åœ¨æŸ¥çœ‹æ•°ç»„ä¸­çš„å…ƒç´ çš„æ—¶å€™å¯ä»¥ä½¿ç”¨console.table()æ‰“å°çš„æ–¹å¼å¯ä»¥çœ‹åˆ°æ‰“å°å‡ºçš„æ•°ç»„æ˜¯ä¸€ä¸ªè¡¨æ ¼çš„å½¢å¼,è¿™æ ·çœ‹èµ·æ¥ååˆ†æ–¹ä¾¿ã€‚</p>
<p><img src="https://njguan.oss-cn-shanghai.aliyuncs.com/img/20200403143330.png"></p>
<p>es6é‡Œæœ‰ä¸€ä¸ªå±•å¼€è¯­æ³•å¼€èµ·æ¥å¾ˆæ–¹ä¾¿ã€‚å¯ä»¥çœ‹å‡ºä½¿ç”¨å’Œä¸ä½¿ç”¨æ—¶å€™çš„åŒºåˆ«ï¼Œå¯¹äºå¯¹è±¡ä¹Ÿæ˜¯åŒæ ·çš„é“ç†ã€‚</p>
<p><img src="https://njguan.oss-cn-shanghai.aliyuncs.com/img/20200403145813.png"></p>
<p><em>è§£æ„èµ‹å€¼ä¸å±•å¼€è¯­æ³•ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œæ³¨æ„å±•å¼€å’Œå¸æ”¶çš„çµæ´»ä½¿ç”¨</em></p>
<p><img src="https://njguan.oss-cn-shanghai.aliyuncs.com/img/20200403152135.png"></p>
<p>è€Œå½“å•ç‹¬ä½¿ç”¨è§£æ„èµ‹å€¼çš„æ—¶å€™ï¼Œæ˜¾ç„¶å·¦å³èµ‹å€¼çš„ç±»å‹æˆ–è€…è¯´æ ¼å¼åº”è¯¥æ˜¯ä¸€è‡´çš„</p>
<p><img src="https://njguan.oss-cn-shanghai.aliyuncs.com/img/20200403152303.png"></p>
<h3 id="æ•°ç»„å‡½æ•°"><a href="#æ•°ç»„å‡½æ•°" class="headerlink" title="æ•°ç»„å‡½æ•°"></a>æ•°ç»„å‡½æ•°</h3><ul>
<li>push pop shift unshift å°±éƒ¨è¯´äº†ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªsilceå’Œspliceæ–¹æ³•ã€‚å¯ä»¥çœ‹å‡ºä¸¤ç§æ–¹æ³•çš„åŒºåˆ«ï¼Œåˆ†åˆ«æ˜¯è¿”å›ä¸€ä¸ªæˆªå–çš„æ•°ç»„è€ŒåŸæ•°ç»„ä¸å—å½±å“ä»¥åŠç›´æ¥æ”¹å˜äº†åŸæ•°ç»„è¿”å›çš„æ˜¯è¢«æˆªå–çš„æ•°ç»„ã€‚</li>
</ul>
<p><img src="https://njguan.oss-cn-shanghai.aliyuncs.com/img/20200403154804.png"></p>
<ul>
<li>å½“ç„¶spliceæ–¹æ³•è¿˜å¯ä»¥å®ç°æ·»åŠ åŠŸèƒ½ï¼Œåœ¨å‚æ•°ä¸åŒçš„æƒ…å†µä¸‹åˆ†åˆ«å¯ä»¥å®ç°åœ¨åŸæ•°ç»„ä¸Šæ·»åŠ æˆ–è€…åˆ é™¤æŸä¸€ä¸ªå…ƒç´ é‡æ–°æ·»åŠ æ–°çš„å…ƒç´ ã€‚å…¶å®åªéœ€è¦çœ‹è¿™ä¸ªå‡½æ•°çš„å‚æ•°æ³¨é‡Šå°±çŸ¥é“å¯¹åº”çš„å«ä¹‰äº†ã€‚</li>
</ul>
<p>![image-20200403154838576](/Users/shawnyue/Library/Application Support/typora-user-images/image-20200403154838576.png)</p>
<p><img src="https://njguan.oss-cn-shanghai.aliyuncs.com/img/20200403160422.png"></p>
<p>ä½¿ç”¨spliceå‡½æ•°å®ç°ä¸€ä¸ªå…ƒç´ ç§»åŠ¨çš„æ–¹æ³•</p>
<p><img src="https://njguan.oss-cn-shanghai.aliyuncs.com/img/20200403161659.png"></p>
<ul>
<li>æŸ¥æ‰¾å…ƒç´ æ˜¯å¯ä»¥ä½¿ç”¨IndexOf/lastIndexOfæ–¹æ³•è·å–å…ƒç´ çš„ä¸‹æ ‡ä¹Ÿå¯ä»¥ä½¿ç”¨findæ–¹æ³•ã€‚findæ–¹æ³•æ¥å—çš„æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°å¯ä»¥ä¸ºä½ åœ¨éå†è¿™ä¸ªæ•°ç»„æ—¶å¦‚æœæ‰¾åˆ°å¯¹åº”çš„å…ƒç´ è€Œæ‰§è¡Œç›¸å¯¹åº”çš„æ“ä½œã€‚</li>
</ul>
<p><img src="https://njguan.oss-cn-shanghai.aliyuncs.com/img/20200403164312.png"></p>
<p><img src="https://njguan.oss-cn-shanghai.aliyuncs.com/img/20200403164322.png"></p>
<p>æ•°ç»„ä¸­çš„someå’Œeveryæ–¹æ³•ï¼Œå³åœ¨éå†æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œsomeè¡¨ç¤ºå¦‚æœåœ¨å›è°ƒå‡½æ•°ä¸­åˆ¤æ–­æ—¶æœ‰ä¸€ä¸ªå…ƒç´ æ»¡è¶³æ¡ä»¶åˆ™æ•´ä¸ªè¡¨è¾¾å¼çš„å€¼ä¸ºçœŸè€Œeveryè¦æ±‚æ¯ä¸€ä¸ªå…ƒç´ ä¸ºçœŸæ•´ä¸ªè¡¨è¾¾å¼çš„å€¼æ‰ä¸ºçœŸ</p>
<p>å‡½æ•°åœ¨ä½¿ç”¨functionè¿›è¡Œå®šä¹‰çš„æ—¶å€™ä¼šè·å¾—ä¸€ä¸ªé«˜ä¼˜å…ˆçº§ï¼Œå³ä½¿åœ¨å£°æ˜å‰å¯¹å‡½æ•°è¿›è¡Œè°ƒç”¨ä¹Ÿå¯ä»¥è¿›è¡Œè°ƒç”¨ï¼Œè€Œå½“å‡½æ•°ä½¿ç”¨å˜é‡èµ‹å€¼çš„æ–¹å¼è¿›è¡Œå£°æ˜æ—¶æå‰è°ƒç”¨åˆ™ä¼šæç¤ºæ²¡æœ‰å®ä¾‹åŒ–ï¼Œè¿™è¢«ç§°ä½œå‡½æ•°çš„æå‡ã€‚</p>
<p>åœ¨æ²¡æœ‰äº†è§£æ¨¡å—åŒ–ä¹‹å‰ï¼Œå¦‚æœå¼•å…¥çš„å¤šä¸ªjsæ–‡ä»¶ä¸­æœ‰é‡åçš„æ–¹æ³•ä¼šå¯¼è‡´æ–¹æ³•çš„è¦†ç›–ï¼Œè¿™æ—¶å€™éœ€è¦è¿›è¡Œçš„è°ƒæ•´æ–¹æ³•æœ‰1.å°†jsæ–‡ä»¶ä¸­çš„æ–¹æ³•éƒ½å°è£…åœ¨ä¸€ä¸ªç«‹å³å‡½æ•°ä¸­ï¼Œå†æŠŠè¿™ä¸ªå‡½æ•°ä¸­çš„å†…å®¹äº¤ç»™windowå¯¹è±¡ä¸­çš„ä¸€ä¸ªå±æ€§ï¼Œé€šè¿‡ä¸åŒçš„å±æ€§æ¥å—å¯ä»¥å®ç°è°ƒç”¨ä¸åŒçš„æ–¹æ³•</p>
<p><img src="https://njguan.oss-cn-shanghai.aliyuncs.com/img/20200427220649.png"></p>
<p>æˆ–è€…å¯ä»¥åˆ©ç”¨letå—çº§ä½œç”¨åŸŸçš„ç‰¹ç‚¹åœ¨ä¸€ä¸ªå¤§æ‹¬å·å†…ä½¿ç”¨letå®šä¹‰ä¸€ä¸ªå‡½æ•°å˜é‡ï¼Œç„¶ååŒæ ·çš„å°†å‡½æ•°å˜é‡èµ‹ç»™windowä¸­çš„ä¸€ä¸ªå±æ€§è¾¾åˆ°è°ƒç”¨çš„ç›®çš„ã€‚</p>
<h2 id="ä½œç”¨åŸŸ"><a href="#ä½œç”¨åŸŸ" class="headerlink" title="ä½œç”¨åŸŸ"></a>ä½œç”¨åŸŸ</h2><p>å…¨å±€ä½œç”¨åŸŸåªæœ‰ä¸€ä¸ªï¼Œæ¯ä¸ªå‡½æ•°åˆéƒ½æœ‰ä½œç”¨åŸŸï¼ˆç¯å¢ƒï¼‰ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆåœ¨</p>
<p><img src="https://njguan.oss-cn-shanghai.aliyuncs.com/img/20200427212255.png"></p>
<p>showå‡½æ•°ä¸­è®¿é—®çš„thisæ˜¯Lessonå¯¹è±¡ï¼Œè€Œåœ¨mapå‡½æ•°ä¸­thisåˆå˜æˆäº†windowã€‚</p>
<h3 id="ä½œç”¨åŸŸçš„è®¿é—®å…³ç³»"><a href="#ä½œç”¨åŸŸçš„è®¿é—®å…³ç³»" class="headerlink" title="ä½œç”¨åŸŸçš„è®¿é—®å…³ç³»"></a>ä½œç”¨åŸŸçš„è®¿é—®å…³ç³»</h3><p>åœ¨å†…éƒ¨ä½œç”¨åŸŸä¸­å¯ä»¥è®¿é—®åˆ°å¤–éƒ¨ä½œç”¨åŸŸçš„å˜é‡ï¼Œåœ¨å¤–éƒ¨ä½œç”¨åŸŸä¸­æ— æ³•è®¿é—®åˆ°å†…éƒ¨ä½œç”¨åŸŸçš„å˜é‡ã€‚</p>
<h3 id="å˜é‡çš„æå‡-å£°æ˜æå‰"><a href="#å˜é‡çš„æå‡-å£°æ˜æå‰" class="headerlink" title="å˜é‡çš„æå‡(å£°æ˜æå‰)"></a>å˜é‡çš„æå‡(å£°æ˜æå‰)</h3><p>ä½¿ç”¨varå…³é”®å­—å£°æ˜çš„å˜é‡ï¼ˆ æ¯”å¦‚ <code>var a = 1</code>ï¼‰ï¼Œ<strong>ä¼šåœ¨æ‰€æœ‰çš„ä»£ç æ‰§è¡Œä¹‹å‰è¢«å£°æ˜</strong>ï¼ˆä½†æ˜¯ä¸ä¼šèµ‹å€¼ï¼‰ï¼Œä½†æ˜¯å¦‚æœå£°æ˜å˜é‡æ—¶ä¸æ˜¯ç”¨varå…³é”®å­—ï¼ˆæ¯”å¦‚ç›´æ¥å†™<code>a = 1</code>ï¼‰ï¼Œåˆ™å˜é‡ä¸ä¼šè¢«å£°æ˜æå‰ã€‚å¦‚æœå…ˆä½¿ç”¨è¿˜ä¼šæŠ¥å¼•ç”¨é”™è¯¯</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// undefined</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">123</span>;</span><br></pre></td></tr></table></figure>

<p>ä¸ºä»€ä¹ˆä¼šæœ‰å˜é‡æå‡å‘¢ï¼Œåœ¨jsè¿è¡Œæ—¶ä¼šæœ‰ä¸€ä¸ªé¢„ç¼–è¯‘çš„è¿‡ç¨‹ã€‚</p>
<p><strong>è§„å¾‹1ï¼šä»»ä½•å˜é‡ï¼Œå¦‚æœæœªç»å£°æ˜å°±èµ‹å€¼ï¼Œæ­¤å˜é‡æ˜¯å±äº window çš„å±æ€§</strong>ï¼Œè€Œä¸”ä¸ä¼šåšå˜é‡æå‡ã€‚ï¼ˆæ³¨æ„ï¼Œæ— è®ºåœ¨å“ªä¸ªä½œç”¨åŸŸå†…èµ‹å€¼ï¼‰</p>
<p><strong>è§„å¾‹2ï¼šä¸€åˆ‡å£°æ˜çš„å…¨å±€å˜é‡ï¼Œå…¨æ˜¯windowçš„å±æ€§</strong>ã€‚ï¼ˆæ³¨æ„ï¼Œæˆ‘è¯´çš„æ˜¯åœ¨å…¨å±€ä½œç”¨åŸŸå†…å£°æ˜çš„å…¨å±€å˜é‡ï¼Œä¸æ˜¯è¯´å±€éƒ¨å˜é‡ï¼‰</p>
<p>æœªè¢«å£°æ˜çš„å˜é‡å±äºwindowä½†ä¸ä¼šè¢«æå‡ï¼Œå£°æ˜çš„å…¨å±€å˜é‡å±äºwindowä¼šè¢«æå‡ã€‚</p>
<h2 id="this"><a href="#this" class="headerlink" title="this"></a>this</h2><p>å‡½æ•°ä¸­çš„thisæŒ‡çš„æ˜¯windowå¯¹è±¡</p>
<p>å¯¹è±¡æ–¹æ³•ä¸­çš„thisæŒ‡çš„æ˜¯å½“å‰å¯¹è±¡çš„å¼•ç”¨</p>
<h2 id="é¡µé¢æ„å»º"><a href="#é¡µé¢æ„å»º" class="headerlink" title="é¡µé¢æ„å»º"></a>é¡µé¢æ„å»º</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addMessage</span>(<span class="params">element,message</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> messageElement = <span class="built_in">document</span>.createElement(<span class="string">&quot;li&quot;</span>);</span><br><span class="line">  messageElement.textContent = messgae;</span><br><span class="line">  element.appendChild(messageElement);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> first = <span class="built_in">document</span>.getElementById(<span class="string">&quot;first&quot;</span>);</span><br><span class="line">addMessage(first,<span class="string">&quot;hello&quot;</span>);</span><br></pre></td></tr></table></figure>



<p>é€šè¿‡ä¸Šè¿°æ–¹å¼å¯ä»¥ä¸ºå…ƒç´ æ·»åŠ ä¸€ä¸ªå­å…ƒç´ ï¼Œä¸»è¦éœ€è¦æ³¨æ„çš„æ˜¯è¿™æ ·çš„ä¸€ä¸ªæ“ä½œæµç¨‹ã€‚å¦‚æœéœ€è¦ä½¿ç”¨è¿™ä¸ªå‡½æ•°åˆ™ï¼Œéœ€è¦ä¸ºè¿™ä¸ªå‡½æ•°ä¼ å…¥ä¸€ä¸ªå…ƒç´ ï¼Œæ–¹å¼æ˜¯é€šè¿‡å†…ç½®çš„getElementByIdçš„æ–¹å¼ï¼Œè·å–åˆ°idä¹‹åå°±å¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ç»™è¿™ä¸ªæ–¹æ³•ä½¿ç”¨ã€‚åˆ›å»ºåç»­èŠ‚ç‚¹å¹¶æŠŠå®ƒæ·»åŠ åˆ°domæ ‘ä¸Šã€‚</p>
<p>æ–‡æœ¬å¯¹è±¡æ¨¡å‹DOMå…ƒç´  </p>
<blockquote>
<p>é¡µé¢æ„å»ºçš„ä¸¤ä¸ªæ­¥éª¤ htmlè§£æä¸DOMæ„å»º  jsè„šæœ¬çš„æ‰§è¡Œ</p>
</blockquote>
<p>åœ¨é¡µé¢æ²¡æœ‰è¢«æ•´ä¸ªè§£æå®Œä¹‹å‰ä¸Šè¿°ä¸¤ä¸ªæ­¥éª¤å°†ä¼šäº¤æ›¿æ‰§è¡Œã€‚</p>
<p>è¿™ä¸ªDOMæ˜¯ä¸æ˜¯å°±è¡¨ç¤ºé¡µé¢ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ å‘¢ï¼Ÿå°±æ˜¯æ¯ä¸€ä¸ªæ ‡ç­¾ã€‚å¯¹äºè¿™äº›èŠ‚ç‚¹çš„å½¢å¼å°±åƒæ˜¯æ•°æ®ç»“æ„ä¸­çš„æ ‘ å‡ºäº†å…ƒç´ htmlä¹‹å¤–å…¶ä»–æ¯ä¸€ä¸ªæ ‡ç­¾éƒ½æœ‰ä¸€ä¸ªçˆ¶èŠ‚ç‚¹å’Œä»»æ„å¤šä¸ªå­èŠ‚ç‚¹ã€‚DOMå…ƒç´ ä»htmlä¸­è§£æè€Œæ¥ï¼Œä¸¤è€…ç±»ä¼¼ä½†å¹¶ä¸ç›¸åŒï¼Œå½“è§£æåˆ°jsæ—¶ï¼Œå›åœæ­¢æ„å»ºDOMå¹¶å¼€å§‹æ‰§è¡Œjsä»£ç ã€‚å¦å¤–å½“é¡µé¢ä¸­çš„å…ƒç´ ä½ç½®å‘ç”Ÿé”™è¯¯æ—¶ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨ä¿®æ­£é”™è¯¯çš„ä»£ç ã€‚jsä»£ç æ˜¯ç”±jså¼•æ“æ‰§è¡Œçš„</p>
<p>jså¯ä»¥åœ¨ä»»æ„ç¨‹åº¦ä¸Šä¿®æ”¹DOMç»“æ„ï¼Œå¯ä»¥æ·»åŠ æˆ–åˆ é™¤å…ƒç´ ã€‚ä½†ç”±äºä»–ä¸èƒ½æ“ä½œè¿˜æ²¡æœ‰è¢«åˆ›å»ºçš„å…ƒç´  æ‰€ä»¥å¦‚æœæƒ³åœ¨ä¹Ÿæ²¡ä½¿ç”¨jsä»£ç é€šå¸¸ä¼šæŠŠå®ƒæ”¾åœ¨é¡µé¢çš„åº•ç«¯ã€‚å¦‚æœæœ‰å¤šä¸ªjsç‰‡æ®µï¼Œä»–ä»¬ä¹‹é—´çš„å˜é‡æ˜¯å¯ä»¥å…±äº«çš„ï¼Œè¿™æ˜¯å› ä¸ºå…¨å±€Windowå¯¹è±¡å­˜åœ¨äºæ•´ä¸ªç”Ÿå‘½å‘¨æœŸå¹¶ä¸”å­˜å‚¨ç€æ‰€æœ‰jså˜é‡ã€‚</p>
<p>å½“é¡µé¢æ„å»ºå®Œæˆä¹‹åå°±ä¼šè¿›å…¥äº‹ä»¶å¤„ç†ç¯èŠ‚ã€‚</p>
<h2 id="äº‹ä»¶å¤„ç†"><a href="#äº‹ä»¶å¤„ç†" class="headerlink" title="äº‹ä»¶å¤„ç†"></a>äº‹ä»¶å¤„ç†</h2><p>æ‰€æœ‰å·²ç”Ÿæˆçš„æ—¶é—´ï¼Œæ— è®ºæ˜¯ç”¨æˆ·çš„ç‚¹å‡»è¿˜æ˜¯é”®ç›˜æŒ‰å‹æˆ–è€…æ˜¯æœåŠ¡å™¨ç«¯çš„ajaxäº‹ä»¶éƒ½ä¼šè¢«æ”¾åœ¨ä¸€ä¸ªäº‹ä»¶é˜Ÿåˆ—ä¸­ã€‚ä»¥ä»–ä»¬è¢«æµè§ˆå™¨æ£€æµ‹åˆ°çš„é¡ºåºè¿›è¡Œæ’åˆ—ã€‚æµè§ˆå™¨å›å¾ªç¯æ£€æŸ¥æ—¶é—´çš„é˜Ÿåˆ—å¤´å¦‚æœæœ‰äº‹ä»¶åˆ™ä¼šè¿›è¡Œå¤„ç†ã€‚</p>
<p>äº‹ä»¶å¤„ç†å™¨æ˜¯æŒ‡å½“æŸä¸ªäº‹ä»¶å‘ç”Ÿä¹‹åï¼Œæˆ‘ä»¬å¸Œæœ›æ‰§è¡Œçš„å‡½æ•°ã€‚æƒ³è¦è¾¾åˆ°è¿™ä¸ªç›®æ ‡ï¼Œæœ€å…³é”®çš„æ˜¯çŸ¥é“ä»€ä¹ˆæ ·çš„äº‹ä»¶å‘ç”Ÿäº†ã€‚ä¹Ÿå°±æ˜¯éœ€è¦ä¸ºè¿™ä¸ªäº‹ä»¶æ³¨å†Œä¸€ä¸ªå¤„ç†å™¨ã€‚</p>
<blockquote>
<p>1.é€šè¿‡æŠŠå‡½æ•°èµ‹ç»™æŸä¸€ä¸ªå±æ€§ windown.load = function(){}</p>
<p>2.é€šè¿‡ä½¿ç”¨å†…ç½®çš„addEventListeneræ–¹æ³•</p>
</blockquote>
<p>document.body.onclick = function(){} ä»£è¡¨çš„å«ä¹‰æ˜¯ä¸ºdomå…ƒç´ ä¸­çš„bodyå…ƒç´ çš„ç‚¹å‡»äº‹ä»¶æ³¨å†Œä¸€ä¸ªå¤„ç†å™¨ã€‚è¿™æ ·åšè™½ç„¶ååˆ†æ–¹ä¾¿ä½†æ˜¯å¯èƒ½ä¼šä¸å°å¿ƒå°†ä¸Šé¢æ³¨å†Œçš„å¤„ç†å™¨ç»™è¦†ç›–æ‰ï¼Œå› ä¸ºè¿™ç§æ–¹å¼åªèƒ½ä¸ºä¸€ä¸ªäº‹ä»¶æ³¨å†Œä¸€ä¸ªå¤„ç†å™¨ã€‚ä½†å¦‚æœä½¿ç”¨ç¬¬äºŒç§æ–¹å¼å°±ä¸ä¼šæœ‰è¿™æ ·çš„æƒ…å†µå‘ç”Ÿã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.body.addEventLisenter(<span class="string">&quot;click&quot;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> second = <span class="built_in">document</span>.getElementById(<span class="string">&quot;second&quot;</span>);</span><br><span class="line">  addMessage(<span class="string">&quot;second&quot;</span>,<span class="string">&quot;click&quot;</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<p>é€šè¿‡è¿™æ ·çš„æ–¹å¼å¯ä»¥æŒ‡æ˜æ˜¯ä¸ºå…ƒç´ ä¸­çš„ä»€ä¹ˆäº‹ä»¶æ³¨å†Œå¤„ç†å™¨ï¼Œå¦‚è¿™é‡Œç»™çš„clickäº‹ä»¶ã€‚</p>
<p>å°±ç›®å‰æ¥çœ‹çš„è¯ï¼ŒæŒæ¡å…ƒç´ çš„å±æ€§å’Œæ–¹æ³•ä¹Ÿå°±æ˜¯apiå¥½åƒæ˜¯æœ€ä¸ºé‡è¦çš„ã€‚</p>
<h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><blockquote>
<p>JavaScriptä¸­æœ€é‡è¦çš„æ¦‚å¿µæ˜¯å‡½æ•°ã€‚å‡½æ•°ä¹Ÿå¯ä»¥è¢«è§†ä¸ºå…¶ä»–ä»»æ„ç±»å‹çš„javascriptå¯¹è±¡ï¼Œå®ƒå¯ä»¥è¢«å¼•ç”¨ï¼Œä»¥å­—é¢é‡å½¢å¼å£°æ˜({})ï¼Œä½œä¸ºå‡½æ•°å‚æ•°è¿›è¡Œä¼ é€’</p>
</blockquote>
<p>å¯¹è±¡æ‰€å…·æœ‰çš„æ“ä½œå‡½æ•°éƒ½å¯ä»¥ï¼Œå¹¶ä¸”å‡½æ•°è¿˜å¯ä»¥è¢«è°ƒç”¨ã€‚</p>
<h3 id="å›è°ƒå‡½æ•°"><a href="#å›è°ƒå‡½æ•°" class="headerlink" title="å›è°ƒå‡½æ•°"></a>å›è°ƒå‡½æ•°</h3><p>å»ºç«‹äº†ä¸€ä¸ªå°†åœ¨éšåè°ƒç”¨çš„å‡½æ•°ã€‚å»ºç«‹çš„å‡½æ•°ä¼šè¢«å…¶ä»–å‡½æ•°åœ¨æŸä¸ªç¨åçš„åˆé€‚çš„æ—¶é—´ç‚¹å†æ¥è°ƒç”¨ã€‚</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/02/05/jquery%E5%9F%BA%E7%A1%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CodePig">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CodePig">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/05/jquery%E5%9F%BA%E7%A1%80/" class="post-title-link" itemprop="url">jqueryåŸºç¡€</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-02-05 21:55:57" itemprop="dateCreated datePublished" datetime="2020-02-05T21:55:57+08:00">2020-02-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-27 12:04:05" itemprop="dateModified" datetime="2020-10-27T12:04:05+08:00">2020-10-27</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>jqueryåŸºç¡€å­¦ä¹ </p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/02/05/jquery%E5%9F%BA%E7%A1%80/">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2019/11/19/python%E5%9F%BA%E7%A1%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CodePig">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CodePig">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/11/19/python%E5%9F%BA%E7%A1%80/" class="post-title-link" itemprop="url">pythonåŸºç¡€</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2019-11-19 21:16:41 / Modified: 22:14:07" itemprop="dateCreated datePublished" datetime="2019-11-19T21:16:41+08:00">2019-11-19</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ç°åœ¨çœŸçš„è§‰å¾—è¦å­¦ä¹ çš„ä¸œè¥¿å¤ªå¤šäº†ï¼ŒçœŸçš„å­¦ä¸è¿‡æ¥äº†ï¼Œå¿…é¡»åæ§½äº†ï¼Œjavaçš„ä¸œè¥¿è¿˜æ²¡æ€ä¹ˆæŒæ¡åˆè¦å…¥é—¨pythonï¼Œæœ‰ç‚¹ç¾¡æ…•ç°åœ¨å¤§ä¸€çš„åŒå­¦å¯ä»¥ä¸Šè¿™é—¨è¯¾ï¼Œæƒ³æ¥æƒ³å»è¿˜æ˜¯è§‰å¾—èƒ½ä¸Šè‡ªå·±æƒ³ä¸Šçš„è¯¾æ—¶å¾ˆå¹¸ç¦çš„ï¼Œä½†æ˜¯å¯¹äºæˆ‘è¿™ç§å¤§å››çš„å­¦ç”Ÿæ¥è¯´å·²ç»æœ‰ç‚¹é¥è¿œäº†ã€‚ä¸Šè½¯æµ‹è¯¾çš„æ—¶å€™è€å¸ˆé—®æˆ‘ä»¬ç°åœ¨å­¦ä»€ä¹ˆï¼Œæ¯«æ— ç–‘é—®æˆ‘ä»¬å½“ç„¶å­¦javaï¼Œè€å¸ˆè¯´åˆ«å­¦äº†èµ¶ç´§è½¬pythonï¼Œå°±äº†è§£åˆ°çš„ä¸œè¥¿æ¥çœ‹ï¼Œå¾ˆå¤šç°é˜¶æ®µå¤§çƒ­çš„ä¸œè¥¿éƒ½æ˜¯pythonå¤šä¸€ç‚¹ï¼Œä½†æ˜¯é‚£äº›éœ€è¦æ‰å®çš„ç†è®ºåŸºç¡€ï¼ŒçœŸçš„è§‰å¾—æœ‰ç‚¹æ— åŠ›ã€‚ä½†æ˜¯æ˜¨å¤©ä¹Ÿäº†è§£åˆ°pythonä¹Ÿå¯ä»¥åšåå°ï¼Œä¹Ÿæœ‰æ¡†æ¶ï¼Œé‰´äºæ­¤æƒ…å†µè¿˜æ˜¯å­¦ä¹ ä¸€ä¸‹ï¼Œå¸Œæœ›æœ‰æœä¸€æ—¥å¯ä»¥ç”¨å¾—ä¸Šã€‚</p>
<p>æœ¬ç‰‡å‚ç…§GitHubä¸Šå¼€æºé¡¹ç›® <a target="_blank" rel="noopener" href="https://github.com/jackfrued/Python-100-Days">100å¤©ä»æ–°æ‰‹åˆ°å¤§å¸ˆ</a>è¿›è¡Œå­¦ä¹ çš„ï¼Œçœ‹åˆ°è¿™ç§æ ‡é¢˜è¿˜æ˜¯æœ‰ç‚¹ç´§å¼ çš„ï¼Œä½†æ˜¯æ¶ä¸ä½è¿™é¡¹ç›®å¿«7ä¸‡çš„æ˜Ÿï¼Œåªèƒ½è¯´ä¸¤ä¸ªå­—ï¼Œ:cow: :beer: ã€‚</p>
<h2 id="pythonåŸºç¡€"><a href="#pythonåŸºç¡€" class="headerlink" title="pythonåŸºç¡€"></a>pythonåŸºç¡€</h2><h3 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h3><p>å¸¸ç”¨æ•°æ®ç±»å‹</p>
<ul>
<li>æ•´å½¢ 3.xä¹‹ååªæœ‰intå‹äº†ï¼Œä¸ä¼šçœŸçš„è¿˜æœ‰äººåœ¨å­¦2.xå§ï¼Ÿ æ”¯æŒå¸¸ç”¨çš„è¿›åˆ¶æ¥è¡¨ç¤º</li>
<li>æµ®ç‚¹å‹</li>
<li>å­—ç¬¦ä¸² å•åŒå¼•å·éƒ½å¯ä»¥ å­—ç¬¦ä¸²è¿˜æœ‰åŸå§‹å­—ç¬¦ä¸²è¡¨ç¤ºæ³•ã€å­—èŠ‚å­—ç¬¦ä¸²è¡¨ç¤ºæ³•ã€Unicodeå­—ç¬¦ä¸²è¡¨ç¤ºæ³•</li>
<li>å¸ƒå°”</li>
</ul>
<h3 id="å˜é‡å"><a href="#å˜é‡å" class="headerlink" title="å˜é‡å"></a>å˜é‡å</h3><p>å’Œå¸¸è§çš„è¯­è¨€ä¸€æ ·ï¼Œç”±æ•°å­—å­—æ¯ä¸‹åˆ’çº¿ç»„æˆï¼Œä¸èƒ½ä»¥æ•°å­—å¼€å¤´ï¼Œä¸èƒ½ä½¿ç”¨å…³é”®å­—ï¼Œå¤§å°å†™ä¸¥æ ¼ã€‚</p>
<p>PEP 8è¦æ±‚ï¼š</p>
<ul>
<li>ç”¨å°å†™å­—æ¯æ‹¼å†™ï¼Œå¤šä¸ªå•è¯ç”¨ä¸‹åˆ’çº¿è¿æ¥ã€‚</li>
<li>å—ä¿æŠ¤çš„å®ä¾‹å±æ€§ç”¨å•ä¸ªä¸‹åˆ’çº¿å¼€å¤´ï¼ˆåé¢ä¼šè®²åˆ°ï¼‰ã€‚</li>
<li>ç§æœ‰çš„å®ä¾‹å±æ€§ç”¨ä¸¤ä¸ªä¸‹åˆ’çº¿å¼€å¤´ï¼ˆåé¢ä¼šè®²åˆ°ï¼‰ã€‚</li>
</ul>
<p>ä¸ºä»€ä¹ˆä¸æ˜¯é©¼å³°â€¦.</p>
<h3 id="å˜é‡çš„ä½¿ç”¨"><a href="#å˜é‡çš„ä½¿ç”¨" class="headerlink" title="å˜é‡çš„ä½¿ç”¨"></a>å˜é‡çš„ä½¿ç”¨</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">ä½¿ç”¨å˜é‡ä¿å­˜æ•°æ®å¹¶è¿›è¡Œç®—æœ¯è¿ç®—</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">a = <span class="number">321</span></span><br><span class="line">b = <span class="number">123</span></span><br><span class="line">print(a + b)</span><br><span class="line">print(a - b)</span><br><span class="line">print(a * b)</span><br><span class="line">print(a / b)</span><br><span class="line">print(a // b)</span><br><span class="line">print(a % b)</span><br><span class="line">print(a ** b)</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ä½¿ç”¨type()å‡½æ•°æ£€æŸ¥å˜é‡çš„ç±»å‹ï¼Œjsé‡Œæ˜¯typeof()ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨Pythonä¸­å†…ç½®çš„å‡½æ•°å¯¹å˜é‡ç±»å‹è¿›è¡Œè½¬æ¢ã€‚è¿™é‡Œä¹Ÿå’Œjsæœ‰ç‚¹åƒéƒ½æ˜¯ä½¿ç”¨è‡ªå·±ç±»å‹çš„å‡½æ•°è¿›è¡Œè½¬æ¢ã€‚</p>
<ul>
<li><code>int()</code>ï¼šå°†ä¸€ä¸ªæ•°å€¼æˆ–å­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•°ï¼Œå¯ä»¥æŒ‡å®šè¿›åˆ¶ã€‚</li>
<li><code>float()</code>ï¼šå°†ä¸€ä¸ªå­—ç¬¦ä¸²è½¬æ¢æˆæµ®ç‚¹æ•°ã€‚</li>
<li><code>str()</code>ï¼šå°†æŒ‡å®šçš„å¯¹è±¡è½¬æ¢æˆå­—ç¬¦ä¸²å½¢å¼ï¼Œå¯ä»¥æŒ‡å®šç¼–ç ã€‚</li>
<li><code>chr()</code>ï¼šå°†æ•´æ•°è½¬æ¢æˆè¯¥ç¼–ç å¯¹åº”çš„å­—ç¬¦ä¸²ï¼ˆä¸€ä¸ªå­—ç¬¦ï¼‰ã€‚</li>
<li><code>ord()</code>ï¼šå°†å­—ç¬¦ä¸²ï¼ˆä¸€ä¸ªå­—ç¬¦ï¼‰è½¬æ¢æˆå¯¹åº”çš„ç¼–ç ï¼ˆæ•´æ•°ï¼‰ã€‚</li>
</ul>
<p>å‡½æ•°input(â€˜a = â€˜) æ¥å—æ§åˆ¶å°è¾“å…¥çš„å†…å®¹ï¼Œå¯ä»¥åœ¨å‡½æ•°å†…è‡ªå®šä¹‰å†…å®¹ä½œä¸ºæ§åˆ¶å°çš„æç¤ºã€‚åœ¨ä½¿ç”¨çš„æ—¶å€™ä½¿ç”¨çš„å ä½ç¬¦%d  %fç­‰ï¼Œè¿™ä¸ªcè¯­è¨€ä¸€æ ·ã€‚</p>
<p>ç»ƒä¹ çš„æ—¶å€™å‘ç°è‡ªå·±å ä½ç¬¦å·²ç»ä¸ä¼šç”¨äº†,cè¯­è¨€å¥½ä¹…æ²¡æœ‰å†™è¿‡äº†â€¦:cry: </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">åæ°åº¦è½¬æ‘„æ°åº¦</span></span><br><span class="line"><span class="string">å…¬å¼ C=(F - 32) / 1.8</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">f = float(input(&#x27;è¯·è¾“å…¥åæ°åº¦ &#x27;))</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">c = (f - 32) / 1.8</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">print(&#x27;%f&#x27; % c)</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">è¾“å…¥å¹´ä»½ å¦‚æœæ˜¯é—°å¹´è¾“å‡ºTrue å¦åˆ™è¾“å‡ºFalse</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">year = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;è¾“å…¥æƒ³è¦è®¡ç®—çš„å¹´ä»½ &#x27;</span>))</span><br><span class="line"></span><br><span class="line">flag = (year % <span class="number">4</span> == <span class="number">0</span> <span class="keyword">and</span> year / <span class="number">100</span> == <span class="number">0</span> <span class="keyword">or</span> year % <span class="number">400</span> == <span class="number">0</span>)</span><br><span class="line">print(flag)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>å†™äº†ä¸¤æ®µä¸å¤ªé€‚åº”è¿™ç§ä¸å®šä¹‰ç±»å‹çš„æ–¹å¼è€Œä¸”åœ¨ifåé¢ä½¿ç”¨å¤§æ‹¬å·æŠ¥é”™äº†ï¼Œè¿™å’Œæˆ‘ç†Ÿæ‚‰çš„ç”¨æ³•ä¸åŒã€‚</p>
<h3 id="åˆ†æ”¯ç»“æ„"><a href="#åˆ†æ”¯ç»“æ„" class="headerlink" title="åˆ†æ”¯ç»“æ„"></a>åˆ†æ”¯ç»“æ„</h3><p>ä¹Ÿå°±æ˜¯if - else è¿›è¡Œæ¡ä»¶åˆ¤æ–­æ¥å†³å®šæ‰§è¡Œé‚£ä¸€æ®µä»£ç ï¼Œpythoné‡Œif elseåé¢è·Ÿçš„æ˜¯å†’å·<code>:</code>ã€‚å¯ä»¥çœ‹åˆ°ä¸‹æ–¹çš„ä»£ç æ˜¯æ²¡æœ‰ä½¿ç”¨èŠ±æ‹¬å·çš„,pythonä½¿ç”¨ä¸åŒçš„ç¼©è¿›çš„æ–¹å¼æ¥è¡¨ç¤ºä¸åŒçš„ä»£ç å±‚æ¬¡ã€‚ä¹Ÿå³å¦‚æœéœ€è¦åœ¨ifåé¢æ‰§è¡Œå¤šæ¡è¯­å¥åªéœ€è¦ä¿è¯ifåˆ¤æ–­åçš„è¯­å¥çš„ç¼©è¿›ç›¸åŒå³å¯ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">ç”¨æˆ·èº«ä»½éªŒè¯</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">username = <span class="built_in">input</span>(<span class="string">&#x27;è¯·è¾“å…¥ç”¨æˆ·å: &#x27;</span>)</span><br><span class="line">password = <span class="built_in">input</span>(<span class="string">&#x27;è¯·è¾“å…¥å£ä»¤: &#x27;</span>)</span><br><span class="line"><span class="comment"># ç”¨æˆ·åæ˜¯adminä¸”å¯†ç æ˜¯123456åˆ™èº«ä»½éªŒè¯æˆåŠŸå¦åˆ™èº«ä»½éªŒè¯å¤±è´¥</span></span><br><span class="line"><span class="keyword">if</span> username == <span class="string">&#x27;admin&#x27;</span> <span class="keyword">and</span> password == <span class="string">&#x27;123456&#x27;</span>:</span><br><span class="line">    print(<span class="string">&#x27;èº«ä»½éªŒè¯æˆåŠŸ!&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">&#x27;èº«ä»½éªŒè¯å¤±è´¥!&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>else ifçš„æ–¹å¼ elif ä¸ else: if[è¡¨è¾¾å¼]: æ¨èçš„æ–¹å¼ä¸ºelifã€‚</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2019/10/17/spring%E5%85%A5%E9%97%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CodePig">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CodePig">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/10/17/spring%E5%85%A5%E9%97%A8/" class="post-title-link" itemprop="url">springå…¥é—¨</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-10-17 13:16:47" itemprop="dateCreated datePublished" datetime="2019-10-17T13:16:47+08:00">2019-10-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-10-18 14:38:59" itemprop="dateModified" datetime="2019-10-18T14:38:59+08:00">2019-10-18</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="springå…¥é—¨"><a href="#springå…¥é—¨" class="headerlink" title="springå…¥é—¨"></a>springå…¥é—¨</h1><h2 id="spring-IOC"><a href="#spring-IOC" class="headerlink" title="spring IOC"></a>spring IOC</h2><h3 id="åº•å±‚åŸç†"><a href="#åº•å±‚åŸç†" class="headerlink" title="åº•å±‚åŸç†"></a>åº•å±‚åŸç†</h3><p>ä¸ºä»€ä¹ˆéœ€è¦ä¾èµ–æ³¨å…¥ï¼Œç¨‹åºä¹‹é—´çš„ç´§è€¦åˆå¯¼è‡´ç¨‹åºæ— æ³•è¢«æ‰©å±•ï¼Œæˆ–è€…åœ¨æ‰©å±•æ—¶å¾ˆä¸æ–¹ä¾¿ï¼Œéœ€è¦ä¿®æ”¹ç¨‹åºçš„æºä»£ç ï¼Œä¸ç¬¦åˆå¼€æ”¾å…³é—­åŸåˆ™ï¼Œæ¯”å¦‚ï¼Œå¦‚æœéœ€è¦åœ¨æ§åˆ¶å±‚å®ç°ä¸šåŠ¡é€»è¾‘ï¼Œä¼ ç»Ÿçš„åšæ³•æ˜¯åœ¨æ§åˆ¶å±‚ç›´æ¥newå‡ºserviceå±‚çš„å¯¹è±¡å†è°ƒç”¨å…¶ä¸­çš„æ–¹æ³•ï¼Œä½†æ˜¯è¿™å°±å¯¼è‡´ä¸¤ä¸ªç±»ä¹‹é—´çš„è€¦åˆç¨‹åº¦å˜é«˜ï¼Œå¦‚ä½•è§£è€¦å‘¢ï¼Ÿå› ä¸ºæ˜¯éœ€è¦serviceå±‚ä¸åŒçš„å¯¹è±¡ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨å·¥å‚æ¨¡å¼æ¥æä¾›ä¸åŒçš„å®ç°ç±»ï¼Œä½†åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ§åˆ¶å±‚åˆå’Œå·¥å‚ç±»ç´§è€¦åˆäº†ï¼Œä¸ºäº†è¿›ä¸€æ­¥è§£è€¦ï¼Œæä¾›çš„æ–¹æ³•æ˜¯ï¼šå·¥å‚æ–¹æ³•+åå°„+é…ç½®æ–‡ä»¶ã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.usts.UserServiceImpl&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶è¿™ä¸ªå·¥å‚ç±»å°±æ˜¯springå·¥å‚ï¼Œspringå®¹å™¨ï¼Œæˆ‘ä»¬éœ€è¦ä»€ä¹ˆç±»ç›´æ¥å…ˆè·å–è¿™ä¸ªå®¹å™¨åœ¨åˆ©ç”¨åå°„æœºåˆ¶å¾—åˆ°è¿™ä¸ªç±»(getBean()),åœ¨è·å–æ—¶éœ€è¦å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œåœ¨æ“ä½œè¿™ä¸ªç±»çš„å¯¹è±¡å³å¯ã€‚è¿™å°±æ˜¯IOCçš„åº•å±‚åŸç†ã€‚ä¹Ÿå°±æ˜¯æœ¬æ¥éœ€è¦æ‰‹åŠ¨åˆ›å»ºçš„å¯¹è±¡ç°åœ¨äº¤ç»™springè¿›è¡Œç®¡ç†ã€‚éœ€è¦çš„å¯¹è±¡ç›´æ¥ä»å®¹å™¨ä¸­é€šè¿‡idè·å–å³å¯ã€‚</p>
<h2 id="DIä¾èµ–æ³¨å…¥"><a href="#DIä¾èµ–æ³¨å…¥" class="headerlink" title="DIä¾èµ–æ³¨å…¥"></a>DIä¾èµ–æ³¨å…¥</h2><p>å°†ä¼ ç»Ÿæ–¹å¼çš„setæ–¹æ³•è®¾ç½®å±æ€§å–æ¶ˆï¼Œæœ¬èº«ä¹Ÿæ˜¯éœ€è¦åˆ›å»ºå¯¹åº”çš„å®ç°ç±»å¯¹è±¡æ‰å¯ä»¥è°ƒç”¨setæ–¹æ³•ï¼Œå¦‚æœnewçš„æ˜¯æ¥å£å¯¹è±¡åˆ™æ²¡æœ‰setæ–¹æ³•è¿™æ ·å¦‚æœç±»ä¸­å¸¦æœ‰å±æ€§ï¼Œä¼ ç»Ÿçš„æ–¹å¼å°±å¤±å»äº†æ„ä¹‰ï¼Œä¸é¢å‘æ¥å£å°±æ²¡æœ‰æ‰©å±•æ€§å¯è¨€ã€‚è€Œä½¿ç”¨ä¾èµ–æ³¨å…¥åˆ™åªéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®å®ƒçš„å±æ€§å³å¯ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹é€šå¸¸ä½¿ç”¨propertyæ ‡ç­¾å³å¯ã€‚è¿™æ ·åœ¨å®¹å™¨ä¸­è·å–å¯¹è±¡æ˜¯è¿™ä¸ªå±æ€§å°±å·²ç»åœ¨è¿™ä¸ªå¯¹è±¡ä¸­è¢«è®¾ç½®å¥½äº†ã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;zhangsan&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="springçš„å·¥å‚ç±»"><a href="#springçš„å·¥å‚ç±»" class="headerlink" title="springçš„å·¥å‚ç±»"></a>springçš„å·¥å‚ç±»</h2><p>å®é™…ä¸Šå°±æ˜¯é€šè¿‡ClassPathXmlApplicationContextï¼ˆApplicationContextï¼‰ï¼Œä¸BeanFactoryçš„åŒºåˆ«åœ¨äºï¼Œéƒ¨åˆ†åŠŸèƒ½æœ‰æ‰©å±•ä»¥åŠå®ä¾‹åŒ–beançš„å®é™…ä¸åŒï¼Œä¸€ä¸ªæ˜¯åœ¨è°ƒç”¨getBean()æ–¹æ³•çš„æ—¶å€™æ‰ä¼šè·å–ï¼Œä¸€ä¸ªåˆ™æ˜¯åœ¨é…ç½®æ–‡ä»¶è¢«åŠ è½½çš„æ—¶å€™å°±ä¼šå®ä¾‹åŒ–æ‰€æœ‰å•ä¾‹çš„beanã€‚</p>
<h2 id="beançš„ç®¡ç†æ–¹å¼"><a href="#beançš„ç®¡ç†æ–¹å¼" class="headerlink" title="beançš„ç®¡ç†æ–¹å¼"></a>beançš„ç®¡ç†æ–¹å¼</h2><p>1.xmlé…ç½®æ–‡ä»¶ 2.æ³¨è§£</p>
<p>å®é™…ä¸Šå¯ä»¥ç†è§£æˆæœ‰ä»€ä¹ˆæ ·çš„æ–¹å¼å»è·å–ä¸€ä¸ªç±»çš„å¯¹è±¡ï¼Œå¸¸ç”¨çš„è‚¯å®šæ˜¯ç›´æ¥é€šè¿‡æ— å‚æ„é€ è·å¾—å¯¹è±¡ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨å·¥å‚æ¨¡å¼å»è·å–å¯¹è±¡ï¼Œ</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">CodePig</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">14</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/NjshawnYue1" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;NjshawnYue1" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:NjGuAn1995@gmail.com" title="E-Mail â†’ mailto:NjGuAn1995@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">CodePig</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v5.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme â€“ <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.7.1
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
